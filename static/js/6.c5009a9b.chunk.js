(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[6],{294:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var a=s(18),c=(s(1),s(303),s(2)),i=function(e){var t=e.classes,s=["skeleton"].concat(Object(a.a)(t),["animate"]).join(" ");return Object(c.jsx)("div",{className:s})}},295:function(e,t,s){e.exports={JET:"#2f2f2f","YELLOW-ORANGE":"#f90","BABY-POWDER":"#f3f4f0",WHITE:"#fff",PALE_ORANGE:"#ffb94a",DARK_GRAY:"#818181",GRAY:"#bfbfbf",LIGHT_GRAY:"#d7d7d7",wrapper:"Post_wrapper__70dWi",left:"Post_left__35IBK",folowed:"Post_folowed__35nhg",post:"Post_post__2yuq1",img:"Post_img__3d_LH",right:"Post_right__3QaWk",headerButton:"Post_headerButton__1c3w4",postComents:"Post_postComents__3LLq2",setting:"Post_setting__12LQK",likedButton:"Post_likedButton__398C6",dislikedButton:"Post_dislikedButton__3FHWG",dislikedNumber:"Post_dislikedNumber__36LUM",footerLeft:"Post_footerLeft__2brBX",likedNumber:"Post_likedNumber__3Mcqg",footerRight:"Post_footerRight__1x-Tz",share:"Post_share__3Dekh",chat:"Post_chat__GE7i6",dischat:"Post_dischat__3F-K4",description:"Post_description__KslCY"}},296:function(e,t,s){e.exports={JET:"#2f2f2f","YELLOW-ORANGE":"#f90","BABY-POWDER":"#f3f4f0",WHITE:"#fff",PALE_ORANGE:"#ffb94a",DARK_GRAY:"#818181",GRAY:"#bfbfbf",LIGHT_GRAY:"#d7d7d7",blog:"RecommendedBlog_blog__2mPRN",left:"RecommendedBlog_left__3QllJ",text:"RecommendedBlog_text__3MOrT",userName:"RecommendedBlog_userName__3kxtz",desc:"RecommendedBlog_desc__1-vMf",blogWrapper:"RecommendedBlog_blogWrapper__3u8Zx",right:"RecommendedBlog_right__242dw",button:"RecommendedBlog_button__2Wqs8"}},299:function(e,t,s){"use strict";s.d(t,"c",(function(){return c})),s.d(t,"d",(function(){return i})),s.d(t,"b",(function(){return n})),s.d(t,"a",(function(){return r}));var a=s(38).a.injectEndpoints({endpoints:function(e){return{getPosts:e.query({query:function(e){var t=e.id,s=e.limit,a=e.page,c=e.type;return{url:"/posts/recomendposts/".concat(t,"?limit=").concat(s,"&page=").concat(a,"&type=").concat(c)}}}),likePost:e.mutation({query:function(e){return{url:"/posts/like",method:"POST",body:e}}}),disLikePost:e.mutation({query:function(e){return{url:"/posts/dislike",method:"POST",body:e}}}),createPost:e.mutation({query:function(e){return{url:"/posts/create",method:"POST",body:e}}})}}}),c=a.useGetPostsQuery,i=(a.useLazyGetPostsQuery,a.useLikePostMutation),n=a.useDisLikePostMutation,r=a.useCreatePostMutation},300:function(e,t,s){"use strict";var a=s(295),c=s.n(a),i=s(311),n=s(70),r=s(71),o=s(312),l=s(302),d=s.n(l),u=s(68),j=s(2),b=function(e){var t=e.id,s=e.likes,a=e.time,c=e.descr,i=e.userName,r=e.liked,o=e.setLiked,l=e.logoUrl;return Object(j.jsx)("div",{className:d.a.comment,children:Object(j.jsxs)("div",{className:d.a.wrapper,children:[Object(j.jsx)("div",{className:d.a.commentLeft,children:Object(j.jsx)(u.a,{height:40,width:40,url:l,userId:t})}),Object(j.jsxs)("div",{className:d.a.commentRight,children:[Object(j.jsx)("div",{className:d.a.name,children:i}),Object(j.jsx)("div",{className:d.a.descr,children:c}),Object(j.jsxs)("div",{className:d.a.settings,children:[Object(j.jsxs)("div",{className:d.a.settingsLeft,children:[Object(j.jsx)("div",{className:d.a.time,children:a}),Object(j.jsxs)("div",{className:d.a.likes,children:[s," likes"]})]}),r?Object(j.jsx)("div",{className:d.a.liked,onClick:o,children:Object(j.jsx)(n.b,{})}):Object(j.jsx)("div",{className:d.a.disliked,onClick:o,children:Object(j.jsx)(n.b,{})})]})]})]})})},m=function(e){var t=Date.now()-new Date(e).getTime();switch(!0){case t>=1728e5:var s=Math.floor(t/864e5);return"".concat(s," days ago");case t>=36e5:var a=Math.floor(t/36e5);return"".concat(a," hours ago");case t>=6e4:var c=Math.floor(t/6e4);return"".concat(c," minutes ago");case t>=1e3:var i=Math.floor(t/1e3);return"".concat(i," seconds ago");default:return null}};t.a=function(e){var t=e.folowed,s=e.setLiked,a=e.setComented,l=e.coments,d=e.comented,u=e.description,f=e.title,_=e.time,O=e.likes,h=e.img_url,p=e.liked,x=e.userId;return Object(j.jsxs)("div",{className:c.a.post,children:[Object(j.jsx)("header",{className:c.a.header,children:Object(j.jsxs)("div",{className:c.a.wrapper,children:[Object(j.jsxs)("div",{className:c.a.left,children:[Object(j.jsx)("p",{children:f}),t?null:Object(j.jsx)("button",{className:c.a.folowed,children:"Follow"})]}),Object(j.jsxs)("div",{className:c.a.right,children:[Object(j.jsx)("p",{children:m(_)}),Object(j.jsx)("button",{className:c.a.headerButton,children:Object(j.jsx)(i.a,{})})]})]})}),Object(j.jsx)("div",{className:c.a.img,children:Object(j.jsx)("img",{className:c.a.img,src:h,alt:""})}),Object(j.jsxs)("footer",{children:[Object(j.jsx)("div",{className:c.a.wrapper,children:Object(j.jsx)("div",{className:c.a.description,children:u})}),Object(j.jsxs)("div",{className:c.a.setting,children:[Object(j.jsxs)("div",{className:c.a.footerLeft,children:[p?Object(j.jsx)("button",{className:c.a.likedButton,onClick:s,children:Object(j.jsx)(n.b,{size:20})}):Object(j.jsx)("button",{className:c.a.dislikedButton,onClick:s,children:Object(j.jsx)(n.b,{size:20})}),Object(j.jsx)("span",{className:p?c.a.likedNumber:c.a.dislikedNumber,children:O})]}),Object(j.jsxs)("div",{className:c.a.footerRight,children:[Object(j.jsx)("button",{className:c.a.share,children:Object(j.jsx)(r.b,{size:20})}),d?Object(j.jsx)("button",{className:c.a.chat,onClick:a,children:Object(j.jsx)(o.a,{size:27})}):Object(j.jsx)("button",{className:c.a.dischat,onClick:a,children:Object(j.jsx)(o.a,{size:27})})]})]})]}),Object(j.jsx)("div",{className:c.a.wrapper,children:d?Object(j.jsxs)("div",{className:c.a.postComents,children:[Object(j.jsxs)("h2",{children:["Comments ",Object(j.jsxs)("span",{children:["(",l.length,")"]})]}),Object(j.jsx)(b,{descr:"You pet very good \ud83e\udd70",userName:"vasya",time:"2d",liked:!0,likes:123,setLiked:function(){},logoUrl:"",id:x})]}):null})]})}},301:function(e,t,s){e.exports={posts:"Posts_posts__3wtlH",tabs:"Posts_tabs__1eq83"}},302:function(e,t,s){e.exports={JET:"#2f2f2f","YELLOW-ORANGE":"#f90","BABY-POWDER":"#f3f4f0",WHITE:"#fff",PALE_ORANGE:"#ffb94a",DARK_GRAY:"#818181",GRAY:"#bfbfbf",LIGHT_GRAY:"#d7d7d7",comment:"Coments_comment__-berG",wrapper:"Coments_wrapper__2Q_H2",liked:"Coments_liked__VJspo",disliked:"Coments_disliked__3ZcOx",name:"Coments_name__2zhri",descr:"Coments_descr__qrUV-",commentRight:"Coments_commentRight__3QaTU",settings:"Coments_settings__IUWw_",time:"Coments_time__2mevY",likes:"Coments_likes__LLI2l",settingsLeft:"Coments_settingsLeft__18Hpd"}},303:function(e,t,s){},304:function(e,t,s){e.exports={profiles:"ProfileList_profiles__1faD1",title:"ProfileList_title__32tHu",profileList:"ProfileList_profileList__3seTc"}},307:function(e,t,s){"use strict";var a=s(18),c=s(9),i=s(25),n=s(13),r=s(8),o=s(1),l=s(82),d=s(301),u=s.n(d),j=s(300),b=s(299),m=s(67);var f=s(294),_=s(295),O=s.n(_),h=s(2),p=function(){return Object(h.jsx)("div",{className:O.a.post,style:{minHeight:"150px",padding:"10px 20px "},children:Object(h.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(h.jsx)(f.a,{classes:["avatar","small"]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(f.a,{classes:["field"]}),Object(h.jsx)(f.a,{classes:["wide-field"]})]})]})})};t.a=function(e){var t=e.tabs,s=e.id,d=Object(o.useState)([]),f=Object(r.a)(d,2),_=f[0],O=f[1],x=Object(o.useState)(t[0].value),v=Object(r.a)(x,2),g=v[0],k=v[1],N=Object(o.useState)(0),P=Object(r.a)(N,2),L=P[0],R=P[1],w=Object(b.d)(),y=Object(r.a)(w,1)[0],C=Object(b.b)(),E=Object(r.a)(C,1)[0],A=function(){var e=Object(n.a)(Object(c.a)().mark((function e(t,s){var a,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!s){e.next=8;break}return e.next=4,E({post_id:t}).unwrap();case 4:a=e.sent,O((function(e){return e.map((function(e){return e.id===t?Object(i.a)(Object(i.a)({},e),{},{likes:a.likes,liked:!s}):e}))})),e.next=12;break;case 8:return e.next=10,y({post_id:t}).unwrap();case 10:n=e.sent,O((function(e){return e.map((function(e){return e.id===t?Object(i.a)(Object(i.a)({},e),{},{likes:n.likes,liked:!s}):e}))}));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("Error liking the post:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,s){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){O([]),R(0)}),[g]);var B=Object(b.c)({id:s,limit:"5",page:L,type:g}),I=B.data,G=B.isLoading,Y=function(e){var t=Object(o.useRef)(null),s=Object(o.useState)(!1),a=Object(r.a)(s,2),c=a[0],i=a[1];return Object(o.useEffect)((function(){var s=new IntersectionObserver((function(e){return i(e[0].isIntersecting)})),a=t.current;return a&&!e&&s.observe(a),function(){a&&s.unobserve(a)}}),[t,e]),[t,c]}(G),T=Object(r.a)(Y,2),W=T[0],H=T[1];return Object(o.useEffect)((function(){_&&H&&R((function(e){return e+(null===I||void 0===I?void 0:I.length)}))}),[H,_,null===I||void 0===I?void 0:I.length]),Object(o.useEffect)((function(){I&&O((function(e){return[].concat(Object(a.a)(e),Object(a.a)(I))}))}),[I]),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:u.a.tabs,children:Object(h.jsx)("div",{style:{display:"flex"},children:t.map((function(e){return Object(h.jsx)(l.a,{name:e.name,text:e.text,value:e.value,selectedValue:g,onChange:k},e.value)}))})}),Object(h.jsx)("div",{className:u.a.posts,children:_&&_.map((function(e){return Object(h.jsx)(j.a,{id:e.id,comented:e.comented,coments:e.coments,description:e.description,folowed:e.folowed,img_url:Object(m.a)(e.img_url),liked:e.liked,likes:e.likes,title:e.title,time:e.time,userId:e.userId,setLiked:function(){return A(e.id,e.liked)}},e.id)}))}),G&&Object(a.a)(Array(4).keys()).map((function(e){return Object(h.jsx)(p,{},e)})),!G&&_&&Object(h.jsx)("div",{ref:W,children:"there aren`t any new posts for you"})]})}},308:function(e,t,s){"use strict";var a=s(18),c=s(304),i=s.n(c),n=s(296),r=s.n(n),o=s(305),l=s(68),d=s(67),u=s(2),j=function(e){var t=e.nickname,s=e.id,a=e.description,c=e.avatar_url;return Object(u.jsx)("div",{className:r.a.blog,children:Object(u.jsxs)("div",{className:r.a.blogWrapper,children:[Object(u.jsxs)("div",{className:r.a.left,children:[Object(u.jsx)(l.a,{width:45,height:45,url:Object(d.a)(c),userId:s}),Object(u.jsxs)("div",{className:r.a.text,children:[Object(u.jsx)("h3",{className:r.a.userName,children:t}),Object(u.jsx)("p",{className:r.a.desc,children:a})]})]}),Object(u.jsxs)("div",{className:r.a.right,children:[Object(u.jsx)(o.b,{className:r.a.close}),Object(u.jsx)("button",{className:r.a.button,children:"Follow"})]})]})})},b=s(294),m=function(){return Object(u.jsx)("div",{className:r.a.blog,children:Object(u.jsxs)("div",{style:{padding:"17px",display:"flex",backgroundColor:"#fff",alignItems:"center",borderRadius:"10px"},children:[Object(u.jsx)("div",{style:{marginRight:"10px"},children:Object(u.jsx)(b.a,{classes:["avatar","small"]})}),Object(u.jsx)(b.a,{classes:["field"]})]})})};t.a=function(e){var t=e.title,s=e.profiles,c=e.loading;return Object(u.jsxs)("div",{className:i.a.profileList,children:[Object(u.jsx)("div",{className:i.a.title,children:t}),Object(u.jsxs)("div",{className:i.a.profiles,children:[s&&s.map((function(e){return Object(u.jsx)(j,{description:e.description,nickname:e.nickname,id:e.id,avatar_url:e.avatar_url},e.id)})),c&&Object(a.a)(Array(3).keys()).map((function(e){return Object(u.jsx)(m,{},e)}))]})]})}},330:function(e,t,s){"use strict";s.r(t);var a=s(307),c=s(308),i=s(69),n=s(2);t.default=function(){var e=Object(i.a)((function(e){return e.auth.user})).id;return Object(n.jsxs)("div",{children:[Object(n.jsx)(c.a,{profiles:[{nickname:"oleg",description:"hallo, I am oleg",id:1,avatar_url:""},{nickname:"aboba",description:"hallo, I am oleg",id:3,avatar_url:""},{nickname:"alex",description:"hallo, I am oleg",id:2,avatar_url:""},{nickname:"max",description:"hallo, I am oleg",id:5,avatar_url:""},{nickname:"aleX",description:"hallo, I am oleg",id:7,avatar_url:""},{nickname:"alwx",description:"hallo, I am oleg",id:8,avatar_url:""}],title:"Check out  these blogs"}),Object(n.jsx)(a.a,{tabs:[{text:"Popular",name:"explore",value:"popular",onChange:function(){}},{text:"New",name:"explore",value:"new",onChange:function(){}},{text:"Your tags",name:"explore",value:"Your tags",onChange:function(){}}],id:e})]})}}}]);
//# sourceMappingURL=6.c5009a9b.chunk.js.map